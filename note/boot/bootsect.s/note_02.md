# 自己给自己挪个地方

## 书接上会
```
mov ax,0x9000
mov es,ax
mov cx,#256
sub si,si
sub di,di
rep movw
```
1. 将`es`寄存器的数值存为`0x9000`
2. 将`cx`寄存器的数值变为`256`
3. `sub`是减法指令，此处就是把寄存器中的数值清零
4. `rep`表示重复执行后面的指令
5. `movw`复制一个`word`（16位）
> 重复执行`cx`寄存器中的次数
> 从`ds:si`复制到`es:di`处
> 一次复制一个`word`，16位，两个字节

将内存地址`0x7c00`处开始往后的512字节数据，原封不动复制到`0x9000`处

## 新的指令
```
jmpi go,0x9000
go:
  mov ax,cs
  mov ds,ax
```
- `jmpi`是一个段间跳转指令，表示跳转到`0x9000:go`处执行
    - 此处注意，段基址仍然要先左移四位。跳转到`0x9000+go`内存地址处执行
- `go`是一个`标签`，编译成机器码的时候会被翻译成一个值，是该标签在文件内的偏移地址
    - `go`的偏移地址加上`0x9000`就是`mov ax,cs`所在的内存地址
